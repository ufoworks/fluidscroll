"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(e):e.FluidScroll=t(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:void 0,function(p){function f(e){return Number(e.toFixed(2))}var d=this,i={el:document.querySelector("main"),speed:.05,resizeFactor:25,maxScale:1.8,resizeBody:!0,onAnimate:null};return function(e){var t=0<arguments.length&&void 0!==e?e:{},r=Object.assign({},i,t),a={position:0,lastPosition:0,percent:0,speed:0},l={htmlInstance:r.el,position:0,scale:1},n=function(){a.position=p.pageYOffset||document.documentElement.scrollTop},o=function(){var e=l.htmlInstance;document.body.style.height="".concat(e.offsetHeight,"px")};return{init:function(){var e;e=l.htmlInstance,Object.assign(e.style,{position:"fixed",top:0,left:0,width:"100%","will-change":"transform"}),document.addEventListener("scroll",n),r.resizeBody&&p.addEventListener("resize",o),r.resizeBody&&o(),function e(){var t=r.resizeFactor,n=r.speed,o=r.maxScale,i=r.onAnimate;a.speed=Math.abs(a.position-a.lastPosition),a.lastPosition=a.position;var s=a.position-l.position,c=Math.max(a.speed/t,1)-l.scale;l.position=l.position+s*n,l.scale=l.scale+c*n,a.percent=a.position/(l.htmlInstance.offsetHeight-p.innerHeight),l.htmlInstance.style.transform="translateY(-".concat(l.position,"px) scaleY(").concat(Math.min(l.scale,o),")"),l.htmlInstance.style.transformOrigin="50% ".concat(100*a.percent,"%"),i&&1<Math.abs(s)&&i.call(d,{scroll:{position:f(a.position),percent:f(a.percent)},el:{position:f(l.position),scale:f(l.scale)}}),requestAnimationFrame(e)}()},resizeBody:o}}});